@main("Choose your names") {
    @navbar()
    <div class="container-fluid">
        <div class="row">
            <div class="chooseTitleContainer">
                <div class="chooseTitle">CHOOSE YOUR NAMES !</div>
            </div>
        </div>
        <div class="row">
            <form method="POST" action="/initPlayers" id="playerForm">
                <div class="playerNamesContainer">
                    <div class="playerName">
                        <label class="playerName-label" for="player1Name">PLAYER 1  ?</label>
                        <input class="inputNames" type="text" id="player1Name" name="player1Name" required oninvalid="this.setCustomValidity('Enter User Name Here'); this.style.borderColor = 'red';"
                        oninput="this.setCustomValidity('')">
                    </div>
                    <br>
                    <div class="playerName">
                        <label class="playerName-label" for="player2Name">PLAYER 2  ?</label>
                        <input class="inputNames" type="text" id="player2Name" name="player2Name" required>
                    </div>
                </div>
                <div class="confirmButtonContainer">
                    <input class="confirmButton" type="button" value="CONFIRM" onclick="validateForm()">
                </div>
            </form>
        </div>
    </div>
    <script>
        function validateForm() {
            let player1Name = document.getElementById("player1Name").value;
            let player2Name = document.getElementById("player2Name").value;

            if (player1Name.trim() === "" && player2Name.trim() === "") {
                displayValidationAlert("Please enter a name for player 1.", "player1Name");
                displayValidationAlert("Please enter a name for player 2", "player2Name");
            } else if(player1Name.trim() === "") {
                displayValidationAlert("Please enter a name for player 1.", "player1Name");
            } else if(player2Name.trim() === "") {
                displayValidationAlert("Please enter a name for player 2.", "player2Name");
            } else {
                document.getElementById("playerForm").submit();
            }
        }

        function displayValidationAlert(message, inputId) {
            let inputField = document.getElementById(inputId);
            let alertDiv = document.createElement("div");
            alertDiv.className = "alert alert-warning alert-dismissible fade show mt-2";
            alertDiv.role = "alert";
            alertDiv.innerHTML = message;
            let closeButton = document.createElement("button");
            closeButton.type = "button";
            closeButton.className = "btn-close";
            closeButton.setAttribute("data-bs-dismiss", "alert");
            alertDiv.appendChild(closeButton);
            inputField.parentNode.appendChild(alertDiv);

            setTimeout(function () {
                alertDiv.remove("fade-out");
            }, 2500);
        }
    </script>
}