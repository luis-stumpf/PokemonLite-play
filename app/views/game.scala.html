@import de.htwg.se.pokelite.model.Pokemon
@import de.htwg.se.pokelite.model.PokePack
@(tui: String, gameState: String, turn: Int, player1Name: String, player2Name: String, pokemonPlayer1: Pokemon, pokemonPlayer2: Pokemon, pokePackPlayer1: PokePack, pokePackPlayer2: PokePack)

@main("PokemonLite") {
    @loadingScreen()<!-- TO DO: add "game" and find pretty game loading screen-->
    @navbar("game")
    @audio("game")
    <div class="container">
        <div class="image-container">
            <img class="" src="@routes.Assets.versioned("images/gamefield.jpg")">
            <div class="overlay-content">
                <div class="row h-50">
                    <div class="col">
                        @playerStatus(pokemon = pokemonPlayer2)
                    </div>
                    <div class="col position-relative">
                        @pokemonFront(pokemon = pokemonPlayer2.toString)
                    </div>
                </div>
                <div class="row h-50">
                    <div class="col position-relative">
                        @pokemonBack(pokemon = pokemonPlayer1.toString)
                    </div>
                    <div class="col">
                        @playerStatus(pokemon = pokemonPlayer1)
                    </div>
                </div>
            </div>
        </div>

    <div class="container">
        <div class="mx-auto menu-field">
            <div class="turn">
                @if(turn == 1) {
                    It's your turn @player1Name !
                }
                @if(turn == 2) {
                    It's your turn @player2Name !
                }
            </div>
            @if(gameState == "DesicionState()") {
                @desicionState()
            } else if(gameState == "FightingState()" && turn == 1) {
            @fightingState(pokemon = pokemonPlayer1, isTurn = turn)
            } else if(gameState == "FightingState()" && turn == 2) {
            @fightingState(pokemon = pokemonPlayer2, isTurn = turn)
            } else if(gameState == "SwitchPokemonState()" && turn == 1) {
            @switchPokemonState(pokePack = pokePackPlayer1)
            } else if(gameState == "SwitchPokemonState()" && turn == 2) {
            @switchPokemonState(pokePack = pokePackPlayer2)
            }
        </div>
    </div>
</div>

    <script>
            document.addEventListener("DOMContentLoaded", function () {

                setTimeout(() => {
                    document.getElementById("loading-screen").style.display = "none";
                }, 1000);
            });
    </script>
}
